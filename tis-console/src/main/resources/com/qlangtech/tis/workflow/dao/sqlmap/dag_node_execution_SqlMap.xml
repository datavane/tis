<?xml version="1.0" encoding="UTF-8" ?><!--~  ~   Licensed to the Apache Software Foundation (ASF) under one  ~   or more contributor license agreements.  See the NOTICE file  ~   distributed with this work for additional information  ~   regarding copyright ownership.  The ASF licenses this file  ~   to you under the Apache License, Version 2.0 (the  ~   "License"); you may not use this file except in compliance  ~   with the License.  You may obtain a copy of the License at  ~  ~       http://www.apache.org/licenses/LICENSE-2.0  ~  ~   Unless required by applicable law or agreed to in writing, software  ~   distributed under the License is distributed on an "AS IS" BASIS,  ~   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  ~   See the License for the specific language governing permissions and  ~   limitations under the License.  --><!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" ><sqlMap namespace="dag_node_execution" >  <resultMap id="ibatorgenerated_BaseResultMap" class="com.qlangtech.tis.workflow.pojo.DagNodeExecution" >    <result column="id" property="id" jdbcType="BIGINT" />    <result column="workflow_instance_id" property="workflowInstanceId" jdbcType="INTEGER" />    <result column="node_id" property="nodeId" jdbcType="BIGINT" />    <result column="node_name" property="nodeName" jdbcType="VARCHAR" />    <result column="node_type" property="nodeType" jdbcType="VARCHAR" />    <result column="task_name" property="taskName" jdbcType="VARCHAR" />    <result column="status" property="status" jdbcType="VARCHAR" />    <result column="start_time" property="startTime" jdbcType="TIMESTAMP" />    <result column="finished_time" property="finishedTime" jdbcType="TIMESTAMP" />    <result column="skip_when_failed" property="skipWhenFailed" jdbcType="BIT" />    <result column="enable" property="enable" jdbcType="BIT" />    <result column="retry_times" property="retryTimes" jdbcType="INTEGER" />    <result column="worker_address" property="workerAddress" jdbcType="VARCHAR" />    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />    <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />  </resultMap>  <resultMap id="ibatorgenerated_ResultMapWithBLOBs" class="com.qlangtech.tis.workflow.pojo.DagNodeExecution" extends="dag_node_execution.ibatorgenerated_BaseResultMap" >    <result column="result" property="result" jdbcType="LONGVARCHAR" />  </resultMap>  <sql id="ibatorgenerated_Example_Where_Clause" >    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >      <isEqual property="oredCriteria[].valid" compareValue="true" >        (        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >          $oredCriteria[].criteriaWithoutValue[]$        </iterate>        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >          $oredCriteria[].criteriaWithSingleValue[].condition$          #oredCriteria[].criteriaWithSingleValue[].value#        </iterate>        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >          $oredCriteria[].criteriaWithListValue[].condition$          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >            #oredCriteria[].criteriaWithListValue[].values[]#          </iterate>        </iterate>        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >          $oredCriteria[].criteriaWithBetweenValue[].condition$          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and          #oredCriteria[].criteriaWithBetweenValue[].values[1]#        </iterate>        )      </isEqual>    </iterate>  </sql>  <select id="ibatorgenerated_selectByExampleWithBLOBs" resultMap="ibatorgenerated_ResultMapWithBLOBs" parameterClass="com.qlangtech.tis.workflow.pojo.DagNodeExecutionCriteria" >    select id, workflow_instance_id, node_id, node_name, node_type, task_name, status, start_time,    finished_time, skip_when_failed, enable, retry_times, worker_address, create_time,    update_time, result    from dag_node_execution    <isParameterPresent >      <include refid="dag_node_execution.ibatorgenerated_Example_Where_Clause" />      <isNotNull property="orderByClause" >        order by $orderByClause$      </isNotNull>    </isParameterPresent>  </select>  <select id="ibatorgenerated_selectByExample" resultMap="ibatorgenerated_BaseResultMap" parameterClass="com.qlangtech.tis.workflow.pojo.DagNodeExecutionCriteria" >    select aa.id AS idworkflow_instance_id, node_id, node_name, node_type, task_name, status,    start_time, finished_time, skip_when_failed, enable, retry_times, worker_address, create_time,    update_time    from ( select id from dag_node_execution    <isParameterPresent >      <include refid="dag_node_execution.ibatorgenerated_Example_Where_Clause" />      <isNotNull property="orderByClause" >        order by $orderByClause$      </isNotNull>      limit #skip#,#pageSize#    </isParameterPresent>    ) bb inner join dag_node_execution aa on aa.id=bb.id  </select>  <select id="ibatorgenerated_selectTargetColsByExample" resultClass="com.qlangtech.tis.ibatis.RowMap" parameterClass="com.qlangtech.tis.workflow.pojo.DagNodeExecutionCriteria" >    select aa.id AS id    <iterate property="cols" conjunction="," prepend=",">$cols[].name$</iterate>    from ( select id from dag_node_execution    <isParameterPresent >      <include refid="dag_node_execution.ibatorgenerated_Example_Where_Clause" />      <isNotNull property="orderByClause" >        order by $orderByClause$      </isNotNull>      limit #skip#,#pageSize#    </isParameterPresent>    ) bb inner join dag_node_execution aa on aa.id=bb.id  </select>  <select id="ibatorgenerated_selectByPrimaryKey" resultMap="ibatorgenerated_ResultMapWithBLOBs" parameterClass="com.qlangtech.tis.workflow.pojo.DagNodeExecution" >    select id, workflow_instance_id, node_id, node_name, node_type, task_name, status, start_time,    finished_time, skip_when_failed, enable, retry_times, worker_address, create_time,    update_time, result    from dag_node_execution    where id = #id:BIGINT#  </select>  <delete id="ibatorgenerated_deleteByPrimaryKey" parameterClass="com.qlangtech.tis.workflow.pojo.DagNodeExecution" >    delete from dag_node_execution    where id = #id:BIGINT#  </delete>  <delete id="ibatorgenerated_deleteByExample" parameterClass="com.qlangtech.tis.workflow.pojo.DagNodeExecutionCriteria" >    delete from dag_node_execution    <include refid="dag_node_execution.ibatorgenerated_Example_Where_Clause" />  </delete>  <insert id="ibatorgenerated_insert" parameterClass="com.qlangtech.tis.workflow.pojo.DagNodeExecution" >    insert into dag_node_execution (id, workflow_instance_id, node_id, node_name, node_type,    task_name, status, start_time, finished_time, skip_when_failed, enable, retry_times,    worker_address, create_time, update_time, result)    values (#id:BIGINT#, #workflowInstanceId:INTEGER#, #nodeId:BIGINT#, #nodeName:VARCHAR#,    #nodeType:VARCHAR#, #taskName:VARCHAR#, #status:VARCHAR#, #startTime:TIMESTAMP#,    #finishedTime:TIMESTAMP#, #skipWhenFailed:BIT#, #enable:BIT#, #retryTimes:INTEGER#,    #workerAddress:VARCHAR#, #createTime:TIMESTAMP#, #updateTime:TIMESTAMP#, #result:LONGVARCHAR#)<!--    <selectKey resultClass="java.lang.Long" >--><!--      SELECT LAST_INSERT_ID();--><!--    </selectKey>-->  </insert>  <insert id="ibatorgenerated_insertSelective" parameterClass="com.qlangtech.tis.workflow.pojo.DagNodeExecution" >    insert into dag_node_execution    <dynamic prepend="(" >      <isNotNull prepend="," property="id" >        id      </isNotNull>      <isNotNull prepend="," property="workflowInstanceId" >        workflow_instance_id      </isNotNull>      <isNotNull prepend="," property="nodeId" >        node_id      </isNotNull>      <isNotNull prepend="," property="nodeName" >        node_name      </isNotNull>      <isNotNull prepend="," property="nodeType" >        node_type      </isNotNull>      <isNotNull prepend="," property="taskName" >        task_name      </isNotNull>      <isNotNull prepend="," property="status" >        status      </isNotNull>      <isNotNull prepend="," property="startTime" >        start_time      </isNotNull>      <isNotNull prepend="," property="finishedTime" >        finished_time      </isNotNull>      <isNotNull prepend="," property="skipWhenFailed" >        skip_when_failed      </isNotNull>      <isNotNull prepend="," property="enable" >        enable      </isNotNull>      <isNotNull prepend="," property="retryTimes" >        retry_times      </isNotNull>      <isNotNull prepend="," property="workerAddress" >        worker_address      </isNotNull>      <isNotNull prepend="," property="createTime" >        create_time      </isNotNull>      <isNotNull prepend="," property="updateTime" >        update_time      </isNotNull>      <isNotNull prepend="," property="result" >        result      </isNotNull>      )    </dynamic>    values    <dynamic prepend="(" >      <isNotNull prepend="," property="id" >        #id:BIGINT#      </isNotNull>      <isNotNull prepend="," property="workflowInstanceId" >        #workflowInstanceId:INTEGER#      </isNotNull>      <isNotNull prepend="," property="nodeId" >        #nodeId:BIGINT#      </isNotNull>      <isNotNull prepend="," property="nodeName" >        #nodeName:VARCHAR#      </isNotNull>      <isNotNull prepend="," property="nodeType" >        #nodeType:VARCHAR#      </isNotNull>      <isNotNull prepend="," property="taskName" >        #taskName:VARCHAR#      </isNotNull>      <isNotNull prepend="," property="status" >        #status:VARCHAR#      </isNotNull>      <isNotNull prepend="," property="startTime" >        #startTime:TIMESTAMP#      </isNotNull>      <isNotNull prepend="," property="finishedTime" >        #finishedTime:TIMESTAMP#      </isNotNull>      <isNotNull prepend="," property="skipWhenFailed" >        #skipWhenFailed:BIT#      </isNotNull>      <isNotNull prepend="," property="enable" >        #enable:BIT#      </isNotNull>      <isNotNull prepend="," property="retryTimes" >        #retryTimes:INTEGER#      </isNotNull>      <isNotNull prepend="," property="workerAddress" >        #workerAddress:VARCHAR#      </isNotNull>      <isNotNull prepend="," property="createTime" >        #createTime:TIMESTAMP#      </isNotNull>      <isNotNull prepend="," property="updateTime" >        #updateTime:TIMESTAMP#      </isNotNull>      <isNotNull prepend="," property="result" >        #result:LONGVARCHAR#      </isNotNull>      )    </dynamic><!--    <selectKey resultClass="java.lang.Long" >--><!--      SELECT LAST_INSERT_ID();--><!--    </selectKey>-->  </insert>  <select id="ibatorgenerated_countByExample" parameterClass="com.qlangtech.tis.workflow.pojo.DagNodeExecutionCriteria" resultClass="java.lang.Integer" >    select count(*) from dag_node_execution    <include refid="dag_node_execution.ibatorgenerated_Example_Where_Clause" />  </select>  <update id="ibatorgenerated_updateByExampleSelective" >    update dag_node_execution    <dynamic prepend="set" >      <isNotNull prepend="," property="record.id" >        id = #record.id:BIGINT#      </isNotNull>      <isNotNull prepend="," property="record.workflowInstanceId" >        workflow_instance_id = #record.workflowInstanceId:INTEGER#      </isNotNull>      <isNotNull prepend="," property="record.nodeId" >        node_id = #record.nodeId:BIGINT#      </isNotNull>      <isNotNull prepend="," property="record.nodeName" >        node_name = #record.nodeName:VARCHAR#      </isNotNull>      <isNotNull prepend="," property="record.nodeType" >        node_type = #record.nodeType:VARCHAR#      </isNotNull>      <isNotNull prepend="," property="record.taskName" >        task_name = #record.taskName:VARCHAR#      </isNotNull>      <isNotNull prepend="," property="record.status" >        status = #record.status:VARCHAR#      </isNotNull>      <isNotNull prepend="," property="record.startTime" >        start_time = #record.startTime:TIMESTAMP#      </isNotNull>      <isNotNull prepend="," property="record.finishedTime" >        finished_time = #record.finishedTime:TIMESTAMP#      </isNotNull>      <isNotNull prepend="," property="record.skipWhenFailed" >        skip_when_failed = #record.skipWhenFailed:BIT#      </isNotNull>      <isNotNull prepend="," property="record.enable" >        enable = #record.enable:BIT#      </isNotNull>      <isNotNull prepend="," property="record.retryTimes" >        retry_times = #record.retryTimes:INTEGER#      </isNotNull>      <isNotNull prepend="," property="record.workerAddress" >        worker_address = #record.workerAddress:VARCHAR#      </isNotNull>      <isNotNull prepend="," property="record.createTime" >        create_time = #record.createTime:TIMESTAMP#      </isNotNull>      <isNotNull prepend="," property="record.updateTime" >        update_time = #record.updateTime:TIMESTAMP#      </isNotNull>      <isNotNull prepend="," property="record.result" >        result = #record.result:LONGVARCHAR#      </isNotNull>    </dynamic>    <isParameterPresent >      <include refid="dag_node_execution.ibatorgenerated_Example_Where_Clause" />    </isParameterPresent>  </update>  <update id="ibatorgenerated_updateByExampleWithBLOBs" >    update dag_node_execution    set id = #record.id:BIGINT#,    workflow_instance_id = #record.workflowInstanceId:INTEGER#,    node_id = #record.nodeId:BIGINT#,    node_name = #record.nodeName:VARCHAR#,    node_type = #record.nodeType:VARCHAR#,    task_name = #record.taskName:VARCHAR#,    status = #record.status:VARCHAR#,    start_time = #record.startTime:TIMESTAMP#,    finished_time = #record.finishedTime:TIMESTAMP#,    skip_when_failed = #record.skipWhenFailed:BIT#,    enable = #record.enable:BIT#,    retry_times = #record.retryTimes:INTEGER#,    worker_address = #record.workerAddress:VARCHAR#,    create_time = #record.createTime:TIMESTAMP#,    update_time = #record.updateTime:TIMESTAMP#,    result = #record.result:LONGVARCHAR#    <isParameterPresent >      <include refid="dag_node_execution.ibatorgenerated_Example_Where_Clause" />    </isParameterPresent>  </update>  <update id="ibatorgenerated_updateByExample" >    update dag_node_execution    set id = #record.id:BIGINT#,    workflow_instance_id = #record.workflowInstanceId:INTEGER#,    node_id = #record.nodeId:BIGINT#,    node_name = #record.nodeName:VARCHAR#,    node_type = #record.nodeType:VARCHAR#,    task_name = #record.taskName:VARCHAR#,    status = #record.status:VARCHAR#,    start_time = #record.startTime:TIMESTAMP#,    finished_time = #record.finishedTime:TIMESTAMP#,    skip_when_failed = #record.skipWhenFailed:BIT#,    enable = #record.enable:BIT#,    retry_times = #record.retryTimes:INTEGER#,    worker_address = #record.workerAddress:VARCHAR#,    create_time = #record.createTime:TIMESTAMP#,    update_time = #record.updateTime:TIMESTAMP#    <isParameterPresent >      <include refid="dag_node_execution.ibatorgenerated_Example_Where_Clause" />    </isParameterPresent>  </update></sqlMap>