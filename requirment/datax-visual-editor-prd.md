# TIS DataX å¯è§†åŒ–ç¼–è¾‘å™¨äº§å“éœ€æ±‚æ–‡æ¡£(PRD)

**ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-11-26
**ä½œè€…**: ç™¾å² & Claude
**é¡¹ç›®**: TISæ•°æ®é›†æˆå¹³å° - å¯è§†åŒ–ç¼–è¾‘å™¨

---

## ğŸ“‹ ç›®å½•

- [1. é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
- [2. æŠ€æœ¯é€‰å‹](#2-æŠ€æœ¯é€‰å‹)
- [3. æ•´ä½“æ¶æ„](#3-æ•´ä½“æ¶æ„)
- [4. èŠ‚ç‚¹é¢æ¿è®¾è®¡](#4-èŠ‚ç‚¹é¢æ¿è®¾è®¡)
- [5. æ ¸å¿ƒèŠ‚ç‚¹ç±»å‹](#5-æ ¸å¿ƒèŠ‚ç‚¹ç±»å‹)
- [6. TransformåŠŸèƒ½è®¾è®¡](#6-transformåŠŸèƒ½è®¾è®¡)
- [7. Drawerç»Ÿä¸€è§„èŒƒ](#7-drawerç»Ÿä¸€è§„èŒƒ)
- [8. æ ¸å¿ƒåŠŸèƒ½](#8-æ ¸å¿ƒåŠŸèƒ½)
- [9. æ•°æ®æ¨¡å‹](#9-æ•°æ®æ¨¡å‹)
- [10. APIæ¥å£è®¾è®¡](#10-apiæ¥å£è®¾è®¡)
- [11. å¼€å‘è®¡åˆ’](#11-å¼€å‘è®¡åˆ’)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 èƒŒæ™¯

TIS(æ•°æ®é›†æˆå¹³å°)å½“å‰ä½¿ç”¨ä¼ ç»Ÿè¡¨å•æ–¹å¼é…ç½®DataXæ•°æ®åŒæ­¥ä»»åŠ¡,ç”¨æˆ·ä½“éªŒä¸ä½³,é…ç½®æ•ˆç‡ä½ã€‚éœ€è¦å®ç°å¯è§†åŒ–çš„æ‹–æ‹½å¼ç¼–è¾‘å™¨,æå‡ç”¨æˆ·ä½“éªŒå’Œé…ç½®æ•ˆç‡ã€‚

### 1.2 ç›®æ ‡

**æ ¸å¿ƒç›®æ ‡:**
- âœ… æä¾›ç›´è§‚çš„å¯è§†åŒ–æ•°æ®æµç¼–è¾‘ç•Œé¢
- âœ… é™ä½DataXé…ç½®é—¨æ§›,æ–°æ‰‹ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹
- âœ… æé«˜é…ç½®æ•ˆç‡,èŠ‚çœ80%é…ç½®æ—¶é—´
- âœ… æ”¯æŒæ’ä»¶åŒ–æ‰©å±•,åŠ¨æ€å®‰è£…Reader/Writer/Transform
- âœ… æä¾›å®Œå–„çš„æ ¡éªŒã€ä¿å­˜ã€æ‰§è¡Œã€ç›‘æ§åŠŸèƒ½

**ä¸åšçš„äº‹æƒ…:**
- âŒ ä¸å®ç°æ•°æ®è¡€ç¼˜å›¾è°±(æš‚ç¼“,é‡è¦ä½†ä¸ç´§æ€¥)
- âŒ ä¸åšå¤æ‚çš„1:1å­—æ®µæ˜ å°„é…ç½®(å¤§å¤šæ•°åœºæ™¯åŒåæ˜ å°„)

### 1.3 ç”¨æˆ·ä»·å€¼

**å¯¹æ¯”ä¼ ç»Ÿæ–¹å¼:**

| ç»´åº¦ | ä¼ ç»Ÿè¡¨å•æ–¹å¼ | å¯è§†åŒ–ç¼–è¾‘å™¨ |
|------|-------------|-------------|
| é…ç½®æ—¶é—´ | 10-15åˆ†é’Ÿ | 2-3åˆ†é’Ÿ |
| ä¸Šæ‰‹éš¾åº¦ | éœ€è¦åŸ¹è®­ | ç›´è§‚æ˜“æ‡‚ |
| æ•°æ®æµå±•ç¤º | æ— ,é æƒ³è±¡ | æ‰€è§å³æ‰€å¾— |
| é”™è¯¯é¢„é˜² | è¿è¡Œæ—¶æ‰å‘ç° | å®æ—¶æ ¡éªŒ |
| å¤§è§„æ¨¡åŒæ­¥ | è¡¨å•ç¹ç | æ‰¹é‡æ“ä½œ |

---

## 2. æŠ€æœ¯é€‰å‹

### 2.1 æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | é€‰å‹åŸå›  |
|------|------|------|---------|
| **Rete.js** | v2.0+ | èŠ‚ç‚¹ç¼–è¾‘å™¨æ¡†æ¶ | ä¸“ä¸šçš„å¯è§†åŒ–ç¼–ç¨‹æ¡†æ¶,TypeScriptä¼˜å…ˆ |
| **Angular** | 17.3 | å‰ç«¯æ¡†æ¶ | é¡¹ç›®å·²ä½¿ç”¨ |
| **ng-zorro-antd** | 17.4 | UIç»„ä»¶åº“ | é¡¹ç›®å·²ä½¿ç”¨,ç»Ÿä¸€è®¾è®¡é£æ ¼ |
| **@antv/g6** | 4.8 | å›¾å¯è§†åŒ–(é¢„ç•™) | æœªæ¥ç”¨äºæ•°æ®è¡€ç¼˜å±•ç¤º |

### 2.2 ä¸ºä»€ä¹ˆé€‰æ‹©Rete.js?

**ä¼˜åŠ¿:**
- âœ… ä¸“ä¸ºèŠ‚ç‚¹ç¼–è¾‘å™¨è®¾è®¡,å¼€ç®±å³ç”¨
- âœ… TypeScriptåŸç”Ÿæ”¯æŒ
- âœ… æ’ä»¶åŒ–æ¶æ„,æ˜“æ‰©å±•
- âœ… æ”¯æŒAngularé›†æˆ
- âœ… ç¤¾åŒºæ´»è·ƒ(10k+ stars)

**å¯¹æ¯”å…¶ä»–æ–¹æ¡ˆ:**

| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ |
|------|------|------|
| Rete.js âœ… | ä¸“ä¸šèŠ‚ç‚¹ç¼–è¾‘å™¨ | éœ€è¦å­¦ä¹ æ–°API |
| @antv/g6(å·²å®‰è£…) | å›½å†…ç”Ÿæ€å¥½ | æ›´åå‘å›¾å±•ç¤º,éç¼–è¾‘ |
| Angular CDKè‡ªå»º | ä¸æ¡†æ¶æ·±åº¦é›†æˆ | é‡å¤é€ è½®å­,å·¥ä½œé‡å¤§ |

---

## 3. æ•´ä½“æ¶æ„

### 3.1 ä¸‰çº§èŠ‚ç‚¹æ¶æ„

ä¸ºäº†æ”¯æŒå¤§è§„æ¨¡è¡¨åŒæ­¥(100+è¡¨),é‡‡ç”¨ä¸‰çº§èŠ‚ç‚¹ç»“æ„:

```
Level 1: æ•°æ®æºèŠ‚ç‚¹(MySQL Reader)
           â†“ (ä¸€å¯¹å¤šè¿æ¥)
Level 2: è¡¨èŠ‚ç‚¹(user_table, order_table, ...)
           â†“ (ä¸€å¯¹ä¸€è¿æ¥)
Level 3: ç›®æ ‡èŠ‚ç‚¹(ES Writer, Hive Writer, ...)
```

**æ¶æ„ä¼˜åŠ¿:**
- âœ… æ”¯æŒ100+è¡¨,ä¸ä¼šæŒ¤åœ¨ä¸€ä¸ªèŠ‚ç‚¹é‡Œ
- âœ… æ¸…æ™°çš„è¡¨çº§åˆ«æ•°æ®æµ
- âœ… çµæ´»çš„ä¸€å¯¹å¤š/å¤šå¯¹ä¸€æ˜ å°„
- âœ… æŒ‰éœ€åŠ è½½,æ€§èƒ½ä¼˜åŒ–

### 3.2 å¯è§†åŒ–æ•ˆæœç¤ºä¾‹

```
ç”»å¸ƒå¸ƒå±€:

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ ğŸ“Š MySQL Reader â”‚
     â”‚ prod_mysql      â”‚
     â”‚ 2 tables        â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”
     â†“                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ğŸ“‹ user_  â”‚      â”‚ğŸ“‹ order_ â”‚
â”‚  table   â”‚      â”‚  table   â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
      â”‚                  â”‚
      â†“                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ğŸ¯ ES     â”‚      â”‚ğŸ¯ Hive   â”‚
â”‚user_indexâ”‚      â”‚dim_order â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            â”‚                             â”‚                  â”‚
â”‚  èŠ‚ç‚¹é¢æ¿  â”‚         ç”»å¸ƒåŒºåŸŸ            â”‚   é…ç½®Drawer     â”‚
â”‚  (280px)   â”‚         (flex)              â”‚   (600/800px)    â”‚
â”‚            â”‚                             â”‚   (æŒ‰éœ€æ˜¾ç¤º)     â”‚
â”‚ â–¼ Reader   â”‚   [æ‹–æ‹½èŠ‚ç‚¹åˆ°è¿™é‡Œ]          â”‚                  â”‚
â”‚  â€¢ MySQL   â”‚   [è¿çº¿è¡¨ç¤ºæ•°æ®æµ]          â”‚ [é…ç½®è¡¨å•]       â”‚
â”‚  â€¢ PG      â”‚                             â”‚                  â”‚
â”‚            â”‚                             â”‚                  â”‚
â”‚ â–¼ Writer   â”‚                             â”‚                  â”‚
â”‚  â€¢ ES      â”‚                             â”‚                  â”‚
â”‚  â€¢ Hive    â”‚                             â”‚                  â”‚
â”‚            â”‚                             â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. èŠ‚ç‚¹é¢æ¿è®¾è®¡

### 4.1 æ’ä»¶ç³»ç»Ÿ

TISæ”¯æŒæ’ä»¶åŠ¨æ€å®‰è£…,èŠ‚ç‚¹é¢æ¿éœ€è¦æ”¯æŒ:
- æ’ä»¶å¸‚åœºæµè§ˆå’Œå®‰è£…
- å·²å®‰è£…/æœªå®‰è£…çŠ¶æ€æ˜¾ç¤º
- æœç´¢ã€åˆ†ç»„ã€æŠ˜å åŠŸèƒ½
- é¦–æ¬¡ä½¿ç”¨å¼•å¯¼

### 4.2 èŠ‚ç‚¹é¢æ¿ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ èŠ‚ç‚¹é¢æ¿                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” [æœç´¢èŠ‚ç‚¹...______]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            â”‚
â”‚ â–¼ ğŸ“Š Reader (3/15)         â”‚ â† å·²å®‰è£…3ä¸ª,å…±15ç§
â”‚   â”œâ”€ MySQL               âœ“â”‚
â”‚   â”œâ”€ PostgreSQL          âœ“â”‚
â”‚   â”œâ”€ Oracle              âœ“â”‚
â”‚   â”œâ”€ MongoDB             + â”‚ â† +è¡¨ç¤ºæœªå®‰è£…
â”‚   â””â”€ [æŸ¥çœ‹æ›´å¤š 10ä¸ª...]    â”‚
â”‚                            â”‚
â”‚ â–¼ ğŸ”§ Transform (0/8)       â”‚
â”‚   ğŸ“¦ æš‚æ— è½¬æ¢æ’ä»¶          â”‚
â”‚   [+ å®‰è£…Transformæ’ä»¶]    â”‚
â”‚                            â”‚
â”‚ â–¶ ğŸ¯ Writer (5/20)         â”‚ â† æŠ˜å çŠ¶æ€
â”‚                            â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚ [âš™ï¸ æ’ä»¶ç®¡ç†]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 åˆå§‹åŒ–çŠ¶æ€(æ— æ’ä»¶)

**é¦–æ¬¡ä½¿ç”¨æç¤º:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ èŠ‚ç‚¹é¢æ¿                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ ğŸ“Š Reader (0)                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚   â”‚  ğŸ“¦ æš‚æ— æ•°æ®æºæ’ä»¶            â”‚    â”‚
â”‚   â”‚                               â”‚    â”‚
â”‚   â”‚  å¼€å§‹ä½¿ç”¨å‰,è¯·å…ˆå®‰è£…æ’ä»¶:     â”‚    â”‚
â”‚   â”‚                               â”‚    â”‚
â”‚   â”‚  [ğŸš€ å¿«é€Ÿå®‰è£…å¸¸ç”¨æ’ä»¶åŒ…]      â”‚    â”‚
â”‚   â”‚  â€¢ MySQL                      â”‚    â”‚
â”‚   â”‚  â€¢ PostgreSQL                 â”‚    â”‚
â”‚   â”‚  â€¢ Elasticsearch              â”‚    â”‚
â”‚   â”‚  â€¢ Hive                       â”‚    â”‚
â”‚   â”‚                               â”‚    â”‚
â”‚   â”‚  [ğŸ“‹ æµè§ˆæ’ä»¶å¸‚åœº]            â”‚    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.4 æ’ä»¶å¸‚åœº

**ç‚¹å‡»"æµè§ˆæ’ä»¶å¸‚åœº" â†’ æ‰“å¼€æ’ä»¶å¸‚åœºDrawer(800px):**

æ ¸å¿ƒåŠŸèƒ½:
- Tabåˆ†ç±»: Reader / Transform / Writer / æ¨è
- æœç´¢å’Œç­›é€‰
- æ’ä»¶è¯¦æƒ…: ç‰ˆæœ¬ã€ä¸‹è½½é‡ã€è¯„åˆ†ã€ä¾èµ–
- ä¸€é”®å®‰è£…/æ›´æ–°/å¸è½½

### 4.5 èŠ‚ç‚¹æœç´¢å’Œæ’åº

**æœç´¢åŠŸèƒ½:**
- å®æ—¶æœç´¢,é«˜äº®åŒ¹é…
- è·¨ç±»åˆ«æœç´¢

**æ’åºç­–ç•¥:**
- æœ€è¿‘ä½¿ç”¨(é»˜è®¤)
- æŒ‰åç§°(å­—æ¯åº)
- æŒ‰æµè¡Œåº¦(ä¸‹è½½é‡)
- å·²å®‰è£…ä¼˜å…ˆ

**åˆ†ç»„æ˜¾ç¤º:**
```
â–¼ ğŸ“Š Reader
  âœ“ å·²å®‰è£… (3)
    â€¢ MySQL
    â€¢ PostgreSQL
    â€¢ Elasticsearch

  ğŸ“¦ å¯å®‰è£… (12)
    â€¢ Oracle +
    â€¢ MongoDB +
    â€¢ ... [å±•å¼€å…¨éƒ¨]
```

---

## 5. æ ¸å¿ƒèŠ‚ç‚¹ç±»å‹

### 5.1 æ•°æ®æºèŠ‚ç‚¹(Reader)

**Level 1: æ•°æ®æºèŠ‚ç‚¹**

#### èŠ‚ç‚¹å¤–è§‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š MySQL Reader â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ prod_mysql      â”‚ â† è¿æ¥åç§°
â”‚ 156 tables      â”‚ â† æ€»è¡¨æ•°
â”‚                 â”‚
â”‚ [âš™ï¸ é…ç½®]       â”‚
â”‚ [ğŸ“‹ é€‰æ‹©è¡¨]     â”‚
â”‚       â†“         â”‚ â† è¾“å‡ºç«¯å£
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### é…ç½®æµç¨‹(ç®€åŒ–ä¸º1æ­¥)

**åªéœ€é€‰æ‹©æ•°æ®æºè¿æ¥,ä¸éœ€è¦é€‰æ‹©è¡¨:**

```
ç‚¹å‡» [âš™ï¸ é…ç½®] â†’ æ‰“å¼€Drawer(600px)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MySQL Reader é…ç½®                    [å…³é—­] [âœ“] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  æ•°æ®æºè¿æ¥: [prod_mysql (ç”Ÿäº§åº“) â–¼]           â”‚
â”‚                                                 â”‚
â”‚  ä¸»æœº: localhost:3306                           â”‚
â”‚  æ•°æ®åº“: production                             â”‚
â”‚  è¡¨æ•°é‡: 156 å¼ è¡¨                               â”‚
â”‚                                                 â”‚
â”‚              [æµ‹è¯•è¿æ¥]         [ç¡®å®š]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 è¡¨èŠ‚ç‚¹(Table)

**Level 2: è¡¨èŠ‚ç‚¹** (æ–°å¢èŠ‚ç‚¹ç±»å‹)

#### èŠ‚ç‚¹å¤–è§‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—‹            â”‚ â† è¾“å…¥ç«¯å£(è¿æ¥æ•°æ®æº)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ğŸ“‹ user_table â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 10 fields    â”‚
â”‚ 100ä¸‡è¡Œ      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”„ 3 transformsâ”‚ â† Transformæ•°é‡(å¦‚æœæœ‰)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âš™ï¸] [ğŸ‘ï¸]   â”‚ â† é…ç½®/é¢„è§ˆ
â”‚      â—‹       â”‚ â† è¾“å‡ºç«¯å£(è¿æ¥ç›®æ ‡)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç”Ÿæˆæ–¹å¼

**æ–¹å¼1: è‡ªåŠ¨ç”Ÿæˆ(æ¨è)**

```
ç‚¹å‡»æ•°æ®æºèŠ‚ç‚¹çš„ [ğŸ“‹ é€‰æ‹©è¡¨] æŒ‰é’® â†’ Draweré€‰æ‹©è¡¨

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é€‰æ‹©åŒæ­¥è¡¨                           [å…³é—­] [âœ“] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ•°æ®æº: MySQL - prod_mysql                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœç´¢: [user_____] ğŸ”                          â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â˜‘ user_table          (100ä¸‡è¡Œ)       â”‚    â”‚
â”‚  â”‚ â˜‘ order_table         (500ä¸‡è¡Œ)       â”‚    â”‚
â”‚  â”‚ â˜ product_table       (10ä¸‡è¡Œ)        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                 â”‚
â”‚  å·²é€‰æ‹©: 2 ä¸ªè¡¨                                 â”‚
â”‚                                                 â”‚
â”‚  å±•å¼€æ–¹å¼:                                      â”‚
â”‚  â— è‡ªåŠ¨å¸ƒå±€ (ç³»ç»Ÿè‡ªåŠ¨æ’åˆ—è¡¨èŠ‚ç‚¹)               â”‚
â”‚  â—‹ æ‰‹åŠ¨æ‹–æ‹½ (ç¨åä»æ•°æ®æºæ‹–å‡º)                 â”‚
â”‚                                                 â”‚
â”‚                                      [ç¡®å®š]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

é€‰æ‹©"è‡ªåŠ¨å¸ƒå±€" â†’ ç”»å¸ƒè‡ªåŠ¨ç”Ÿæˆè¡¨èŠ‚ç‚¹å¹¶è¿çº¿

**æ–¹å¼2: æ‰‹åŠ¨æ‹–æ‹½**

é€‰æ‹©"æ‰‹åŠ¨æ‹–æ‹½" â†’ æ•°æ®æºèŠ‚ç‚¹æ˜¾ç¤ºå¯æ‹–æ‹½çš„è¡¨åˆ—è¡¨:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š MySQL Reader â”‚
â”‚ prod_mysql      â”‚
â”‚ 2/156 tables âœ“  â”‚
â”‚                 â”‚
â”‚ æ‹–æ‹½åˆ°ç”»å¸ƒ:     â”‚
â”‚ [ğŸ“‹] user_table â”‚ â† å¯æ‹–æ‹½
â”‚ [ğŸ“‹] order_tableâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### è¡¨èŠ‚ç‚¹é…ç½®

ç‚¹å‡»è¡¨èŠ‚ç‚¹çš„ [âš™ï¸] æŒ‰é’® â†’ æ‰“å¼€Drawer(600px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ è¡¨é…ç½®: user_table                        [å¸®åŠ©] [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tab: [å­—æ®µé€‰æ‹©] [ğŸ”„ å­—æ®µè½¬æ¢] [ç­›é€‰æ¡ä»¶] [é«˜çº§è®¾ç½®]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€å­—æ®µé€‰æ‹©ã€‘                                              â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â˜‘ å…¨é€‰ (10ä¸ªå­—æ®µ)                                 â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â˜‘ id           INT          PRIMARY KEY           â”‚   â”‚
â”‚  â”‚ â˜‘ username     VARCHAR(50)                        â”‚   â”‚
â”‚  â”‚ â˜‘ phone        VARCHAR(20)                        â”‚   â”‚
â”‚  â”‚ â˜ password     VARCHAR(255)  (å·²æ’é™¤)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚  å·²é€‰æ‹©: 9/10 ä¸ªå­—æ®µ                                       â”‚
â”‚  [å…¨é€‰] [åé€‰] [ä»…é€‰ä¸»é”®] [æ’é™¤æ•æ„Ÿå­—æ®µ]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        [å–æ¶ˆ]  [ä¿å­˜]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 ç›®æ ‡èŠ‚ç‚¹(Writer)

**Level 3: ç›®æ ‡èŠ‚ç‚¹**

#### èŠ‚ç‚¹å¤–è§‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—‹            â”‚ â† è¾“å…¥ç«¯å£
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ğŸ¯ ES Writer  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ prod-cluster â”‚ â† é›†ç¾¤å
â”‚ user_index   â”‚ â† ç´¢å¼•å
â”‚              â”‚
â”‚ [âš™ï¸ é…ç½®]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### é…ç½®æµç¨‹(ç±»ä¼¼Reader,2æ­¥)

1. è¿æ¥é…ç½®(é›†ç¾¤åœ°å€ã€è®¤è¯ä¿¡æ¯)
2. é€‰æ‹©ç›®æ ‡(ç´¢å¼•/è¡¨)

---

## 6. TransformåŠŸèƒ½è®¾è®¡

### 6.1 è®¾è®¡åŸåˆ™

**æ ¸å¿ƒè§‚å¯Ÿ:**
- âœ… å­—æ®µæ˜ å°„å¤§å¤šæ•°æƒ…å†µæ˜¯åŒåæ˜ å°„ â†’ ä¸åšå¤æ‚é…ç½®,é»˜è®¤åŒå
- âœ… Transformæ˜¯çœŸæ­£éœ€è¦çš„åŠŸèƒ½ â†’ é‡ç‚¹å®ç°

### 6.2 Transformç±»å‹

æ”¯æŒ5ç§å¸¸ç”¨Transform:

#### 1. è„±æ•å¤„ç†

**ç”¨é€”:** æ•æ„Ÿæ•°æ®åŠ å¯†/æ©ç 

**é…ç½®ç¤ºä¾‹:**

```
æºå­—æ®µ: phone
è½¬æ¢æ–¹å¼: MD5åŠ å¯†
è¾“å‡ºå­—æ®µ: phone_md5
ç¤ºä¾‹: 13812345678 â†’ 5d41402abc4b2a76b9719d911017c592
```

**æ”¯æŒçš„è„±æ•æ–¹å¼:**
- MD5 / SHA256åŠ å¯†
- æ‰‹æœºå·æ©ç (138****5678)
- é‚®ç®±æ©ç (z***@qq.com)
- èº«ä»½è¯æ©ç (å‰6å4)
- è‡ªå®šä¹‰æ­£åˆ™æ©ç 

#### 2. æ ¼å¼è½¬æ¢

**ç”¨é€”:** æ—¥æœŸæ—¶é—´ã€å­—ç¬¦ä¸²æ ¼å¼è½¬æ¢

**é…ç½®ç¤ºä¾‹:**

```
æºå­—æ®µ: created_at (DATETIME)
æºæ ¼å¼: yyyy-MM-dd HH:mm:ss
ç›®æ ‡æ ¼å¼: yyyy-MM-dd HH:mm
è¾“å‡ºå­—æ®µ: create_time
ç¤ºä¾‹: 2024-01-15 14:30:25 â†’ 2024-01-15 14:30
```

**æ”¯æŒçš„æ ¼å¼:**
- æ—¥æœŸæ—¶é—´æ ¼å¼åŒ–
- Unixæ—¶é—´æˆ³è½¬æ¢
- å­—ç¬¦ä¸²å¤§å°å†™è½¬æ¢
- æ•°å€¼æ ¼å¼åŒ–(ç²¾åº¦ã€åƒåˆ†ä½)

#### 3. è®¡ç®—å­—æ®µ

**ç”¨é€”:** åŸºäºç°æœ‰å­—æ®µè®¡ç®—æ–°å­—æ®µ

**é…ç½®ç¤ºä¾‹:**

```
åŸºäºå­—æ®µ: birth_year
è®¡ç®—è¡¨è¾¾å¼: 2024 - birth_year
è¾“å‡ºå­—æ®µ: age
æ•°æ®ç±»å‹: INT
ç¤ºä¾‹: birth_year=1990 â†’ age=34
```

**æ”¯æŒçš„å‡½æ•°:**
- ç®—æœ¯è¿ç®—: +, -, *, /, %
- å­—ç¬¦ä¸²: CONCAT, SUBSTRING, UPPER, LOWER
- æ¡ä»¶: IF(cond, val1, val2)
- æ•°å€¼: ROUND, FLOOR, CEIL

#### 4. å€¼æ˜ å°„

**ç”¨é€”:** çŠ¶æ€ç è½¬æ–‡å­—ã€æšä¸¾å€¼è½¬æ¢

**é…ç½®ç¤ºä¾‹:**

```
æºå­—æ®µ: status (INT)
æ˜ å°„è§„åˆ™:
  0 â†’ inactive
  1 â†’ active
  2 â†’ pending
  é»˜è®¤ â†’ unknown
è¾“å‡ºå­—æ®µ: status_text
```

**æ”¯æŒ:**
- æ‰‹åŠ¨é…ç½®æ˜ å°„è¡¨
- ä»CSVå¯¼å…¥
- ä»æ•°æ®å­—å…¸å¯¼å…¥

#### 5. å­—æ®µåˆå¹¶

**ç”¨é€”:** å¤šä¸ªå­—æ®µåˆå¹¶ä¸ºä¸€ä¸ª

**é…ç½®ç¤ºä¾‹:**

```
é€‰æ‹©å­—æ®µ: city, district
åˆå¹¶æ–¹å¼: CONCAT
åˆ†éš”ç¬¦: ç©ºæ ¼
è¾“å‡ºå­—æ®µ: full_address
ç¤ºä¾‹: city="åŒ—äº¬", district="æœé˜³åŒº" â†’ "åŒ—äº¬ æœé˜³åŒº"
```

**æ”¯æŒ:**
- å­—ç¬¦ä¸²æ‹¼æ¥(CONCAT)
- JSONå¯¹è±¡åˆå¹¶

### 6.3 Transformé…ç½®ç•Œé¢

ç‚¹å‡»è¡¨èŠ‚ç‚¹çš„ [å­—æ®µè½¬æ¢] Tab â†’ æ‰“å¼€Transformé…ç½®(800pxå®½Drawer)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”„ å­—æ®µè½¬æ¢: user_table                              [å¸®åŠ©] [Ã—]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å­—æ®µå     â”‚ è½¬æ¢ç±»å‹     â”‚ é…ç½®                  â”‚ é¢„è§ˆ     â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ id         â”‚ ä¿æŒåŸæ ·     â”‚ -                     â”‚ 1        â”‚   â”‚
â”‚  â”‚ username   â”‚ ä¿æŒåŸæ ·     â”‚ -                     â”‚ zhangsan â”‚   â”‚
â”‚  â”‚ phone      â”‚ ğŸ”„ è„±æ•å¤„ç† â”‚ [MD5 â–¼]  [é…ç½®]       â”‚ 5d41402..â”‚   â”‚
â”‚  â”‚ created_at â”‚ ğŸ”„ æ ¼å¼è½¬æ¢ â”‚ [yyyy-MM-dd] [é…ç½®]   â”‚ 2024-... â”‚   â”‚
â”‚  â”‚ birth_year â”‚ ğŸ”„ è®¡ç®—å­—æ®µ â”‚ [2024-year] [é…ç½®]    â”‚ 34       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚  [+ æ·»åŠ è½¬æ¢è§„åˆ™]                                                   â”‚
â”‚                                                                      â”‚
â”‚  å¿«é€Ÿæ¨¡æ¿:                                                           â”‚
â”‚  [ğŸ“‹ å¸¸ç”¨è„±æ•] [ğŸ• æ—¶é—´è½¬æ¢] [ğŸ”¢ æ•°å€¼è®¡ç®—]                         â”‚
â”‚                                                                      â”‚
â”‚  â”Œâ”€â”€ æ•°æ®é¢„è§ˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ æºæ•°æ®            â†’  è½¬æ¢å                               â”‚      â”‚
â”‚  â”‚ id: 1                  id: 1                              â”‚      â”‚
â”‚  â”‚ phone: 13812345678  â†’  phone_md5: 5d41402...              â”‚      â”‚
â”‚  â”‚                       [åˆ·æ–°é¢„è§ˆ]                          â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              [å–æ¶ˆ]  [ä¿å­˜å¹¶åº”ç”¨]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.4 Transformåœ¨èŠ‚ç‚¹ä¸Šçš„æ˜¾ç¤º

é…ç½®Transformå,è¡¨èŠ‚ç‚¹æ˜¾ç¤ºæ‘˜è¦:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â—‹                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ğŸ“‹ user_table     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 10 fields        â”‚
â”‚ 100ä¸‡è¡Œ          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”„ Transforms:   â”‚ â† æ˜¾ç¤ºTransformæ‘˜è¦
â”‚ â€¢ phone â†’ MD5    â”‚
â”‚ â€¢ created_at â†’ fmtâ”‚
â”‚ â€¢ ageè®¡ç®—        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [âš™ï¸] [ğŸ‘ï¸]       â”‚
â”‚      â—‹           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. Drawerç»Ÿä¸€è§„èŒƒ

### 7.1 ä¸ºä»€ä¹ˆç”¨Drawerè€Œä¸æ˜¯Modal?

**Drawerçš„ä¼˜åŠ¿:**

| å¯¹æ¯”é¡¹ | Modal(æ¨¡æ€æ¡†) | Drawer(æŠ½å±‰) âœ… |
|--------|--------------|----------------|
| ç”»å¸ƒå¯è§æ€§ | âŒ é®æŒ¡ç”»å¸ƒ | âœ… å·¦ä¾§ç”»å¸ƒä»å¯è§ |
| é…ç½®å®æ—¶é¢„è§ˆ | âŒ å…³é—­åæ‰èƒ½çœ‹ | âœ… è¾¹é…ç½®è¾¹çœ‹èŠ‚ç‚¹å˜åŒ– |
| ç©ºé—´åˆ©ç”¨ | âŒ å±…ä¸­,æµªè´¹ç©ºé—´ | âœ… å³ä¾§å›ºå®š,å……åˆ†åˆ©ç”¨ |
| æ“ä½œè¿è´¯æ€§ | âŒ æœ‰å‰²è£‚æ„Ÿ | âœ… æ»‘å…¥æ»‘å‡ºæ›´æµç•… |

### 7.2 Drawerå®½åº¦è§„èŒƒ

| åœºæ™¯ | å®½åº¦ | è¯´æ˜ |
|------|------|------|
| ç®€å•é…ç½® | 480px | é€‰æ‹©ã€åŸºç¡€è®¾ç½® |
| **æ ‡å‡†é…ç½®** | **600px** | **å¤§å¤šæ•°åœºæ™¯(æ¨èé»˜è®¤)** |
| å¤æ‚é…ç½® | 800px | å­—æ®µæ˜ å°„ã€Transformã€æ’ä»¶å¸‚åœº |
| è¶…å¤æ‚ | 1000px | ä»£ç ç¼–è¾‘å™¨ã€SQLç¼–è¾‘ |

### 7.3 ç»Ÿä¸€çš„Drawerç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”§ æ ‡é¢˜                                      [å¸®åŠ©] [Ã—]    â”‚ â† Header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  [é…ç½®å†…å®¹åŒºåŸŸ]                                            â”‚ â† Body
â”‚  â€¢ å¯æ»šåŠ¨                                                  â”‚   (æ»šåŠ¨)
â”‚  â€¢ 24px padding                                            â”‚
â”‚                                                            â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        [å–æ¶ˆ]  [ä¿å­˜]      â”‚ â† Footer
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   (å›ºå®š)
```

### 7.4 Draweré€šç”¨é…ç½®

```typescript
// ng-zorro Draweré…ç½®
nzPlacement="right"        // ä»å³ä¾§æ»‘å…¥(ç»Ÿä¸€)
nzWidth="600"              // é»˜è®¤å®½åº¦
nzMaskClosable="false"     // ç‚¹å‡»é®ç½©ä¸å…³é—­(é¿å…è¯¯æ“ä½œ)
nzKeyboard="true"          // ESCé”®å…³é—­
nzClosable="true"          // æ˜¾ç¤ºå…³é—­æŒ‰é’®
```

### 7.5 å“åº”å¼é€‚é…

```typescript
// æ ¹æ®å±å¹•å®½åº¦è‡ªé€‚åº”
get drawerWidth(): number {
  const screenWidth = window.innerWidth;

  if (screenWidth < 768) {
    return screenWidth; // ç§»åŠ¨ç«¯å…¨å±
  } else if (screenWidth < 1280) {
    return screenWidth * 0.8; // å¹³æ¿80%
  } else {
    return 600; // æ¡Œé¢å›ºå®šå®½åº¦
  }
}
```

---

## 8. æ ¸å¿ƒåŠŸèƒ½

### 8.1 æœªä¿å­˜æé†’

#### 8.1.1 çŠ¶æ€æ ‡è¯†

é¡µé¢é¡¶éƒ¨å·¥å…·æ æ˜¾ç¤ºä¿å­˜çŠ¶æ€:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ mysql_to_es_sync  âš ï¸ æœªä¿å­˜                              â”‚
â”‚                                                              â”‚
â”‚ [ğŸ’¾ ä¿å­˜] [â–¶ï¸ ä¿å­˜å¹¶æ‰§è¡Œ] [ğŸ” æ ¡éªŒ]                         â”‚
â”‚                                                              â”‚
â”‚ æœ€åä¿å­˜: 2åˆ†é’Ÿå‰  |  æœ€åæ‰§è¡Œ: 1å°æ—¶å‰                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 8.1.2 æœªä¿å­˜æé†’è§¦å‘æ—¶æœº

**1. æµè§ˆå™¨åˆ·æ–°/å…³é—­**

```typescript
@HostListener('window:beforeunload', ['$event'])
handleBeforeUnload(event: BeforeUnloadEvent) {
  if (this.isDirty) {
    event.preventDefault();
    event.returnValue = 'æ‚¨æœ‰æœªä¿å­˜çš„ä¿®æ”¹,ç¡®å®šè¦ç¦»å¼€å—?';
  }
}
```

**2. Angularè·¯ç”±è·³è½¬**

ä½¿ç”¨è·¯ç”±å®ˆå«:

```typescript
canDeactivate(): Observable<boolean> | boolean {
  if (!this.isDirty) {
    return true;
  }

  return this.modal.confirm({
    nzTitle: 'æ”¾å¼ƒæœ¬æ¬¡ç¼–è¾‘å—?',
    nzContent: 'æ‚¨æœ‰æœªä¿å­˜çš„ä¿®æ”¹,ç¦»å¼€åå°†ä¸¢å¤±æ‰€æœ‰æ›´æ”¹ã€‚',
    nzOkText: 'æ”¾å¼ƒ',
    nzOkDanger: true,
    nzCancelText: 'å–æ¶ˆ'
  }).afterClose;
}
```

**3. ç‚¹å‡»å…¶ä»–èœå•/Tab**

åŒæ ·è§¦å‘è·¯ç”±å®ˆå«ç¡®è®¤

#### 8.1.3 æ ‡è®°ä¸ºæœªä¿å­˜çš„æ“ä½œ

ä»¥ä¸‹æ“ä½œä¼šæ ‡è®° `isDirty = true`:
- æ·»åŠ èŠ‚ç‚¹
- åˆ é™¤èŠ‚ç‚¹
- ç§»åŠ¨èŠ‚ç‚¹
- æ·»åŠ è¿æ¥
- åˆ é™¤è¿æ¥
- ä¿®æ”¹èŠ‚ç‚¹é…ç½®
- ä¿®æ”¹Transformè§„åˆ™

### 8.2 é€»è¾‘æ ¡éªŒ

#### 8.2.1 æ ¡éªŒè§„åˆ™(10+)

| è§„åˆ™ç¼–å· | ç±»å‹ | æ ¡éªŒå†…å®¹ |
|---------|------|---------|
| 1 | Error | ç”»å¸ƒä¸ºç©º,æ— èŠ‚ç‚¹ |
| 2 | Error | ç¼ºå°‘ReaderèŠ‚ç‚¹ |
| 3 | Error | ç¼ºå°‘WriterèŠ‚ç‚¹ |
| 4 | Error | Readeræœªé…ç½®è¿æ¥ä¿¡æ¯ |
| 5 | Error | Writeræœªé…ç½®è¿æ¥ä¿¡æ¯ |
| 6 | Warning | Readeræœªé€‰æ‹©ä»»ä½•è¡¨ |
| 7 | Warning | è¡¨èŠ‚ç‚¹æ²¡æœ‰è¾“å‡ºè¿æ¥ |
| 8 | Warning | èŠ‚ç‚¹æ˜¯å­¤ç«‹çš„(æ— è¿æ¥) |
| 9 | Warning | è¿æ¥æœªé…ç½®å­—æ®µæ˜ å°„ |
| 10 | Error | Transformè§„åˆ™ç¼ºå°‘è¾“å‡ºå­—æ®µ |
| 11 | Error | æ£€æµ‹åˆ°å¾ªç¯ä¾èµ– |

#### 8.2.2 æ ¡éªŒç»“æœå±•ç¤º

ç‚¹å‡» [ğŸ” æ ¡éªŒ] æŒ‰é’® â†’ æ‰“å¼€Drawer(600px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ“ æ ¡éªŒç»“æœ                                   [å…³é—­] [Ã—] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ€»ç»“: å‘ç° 2 ä¸ªé”™è¯¯, 3 ä¸ªè­¦å‘Š                          â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âŒ é”™è¯¯ (2)                                        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â€¢ æ•°æ®æº"MySQL Reader"æœªé…ç½®è¿æ¥ä¿¡æ¯       [å®šä½] â”‚ â”‚
â”‚  â”‚ â€¢ ç›®æ ‡"ES Writer"æœªé…ç½®è¿æ¥ä¿¡æ¯            [å®šä½] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âš ï¸ è­¦å‘Š (3)                                        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ â€¢ è¡¨"user_table"æ²¡æœ‰è¿æ¥åˆ°ä»»ä½•ç›®æ ‡        [å®šä½] â”‚ â”‚
â”‚  â”‚ â€¢ èŠ‚ç‚¹"Transform"æ˜¯å­¤ç«‹çš„                 [å®šä½] â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  âš ï¸ å­˜åœ¨é”™è¯¯,æ— æ³•æ‰§è¡Œä»»åŠ¡                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     [å¯¼å‡ºæŠ¥å‘Š] [å…³é—­]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 8.2.3 é”™è¯¯å®šä½

ç‚¹å‡» [å®šä½] æŒ‰é’®:
1. è‡ªåŠ¨å®šä½åˆ°é”™è¯¯èŠ‚ç‚¹
2. å±…ä¸­æ˜¾ç¤º
3. é—ªçƒé«˜äº®2ç§’

```typescript
locateNode(nodeId: string) {
  // 1. ç§»åŠ¨è§†å›¾åˆ°èŠ‚ç‚¹ä¸­å¿ƒ
  const nodeView = this.area.nodeViews.get(nodeId);
  this.area.area.translate(
    -nodeView.position.x + window.innerWidth / 2,
    -nodeView.position.y + window.innerHeight / 2
  );

  // 2. æ·»åŠ é—ªçƒåŠ¨ç”»
  nodeView.element.classList.add('validation-error-highlight');
  setTimeout(() => {
    nodeView.element.classList.remove('validation-error-highlight');
  }, 2000);
}
```

```css
@keyframes errorHighlight {
  0%, 100% { box-shadow: 0 0 0 0 rgba(255, 77, 79, 0); }
  50% { box-shadow: 0 0 20px 10px rgba(255, 77, 79, 0.5); }
}

.validation-error-highlight {
  animation: errorHighlight 1s ease-in-out 2;
  border-color: #ff4d4f !important;
}
```

### 8.3 ä¿å­˜åŠŸèƒ½

#### 8.3.1 ä¿å­˜æµç¨‹

```
ç‚¹å‡» [ğŸ’¾ ä¿å­˜] æŒ‰é’®
  â†“
1. è‡ªåŠ¨æ‰§è¡Œé€»è¾‘æ ¡éªŒ
  â†“
2. å¦‚æœæœ‰Error â†’ æç¤º"è¯·å…ˆä¿®å¤é”™è¯¯"
  â†“
3. åºåˆ—åŒ–å›¾æ•°æ®(èŠ‚ç‚¹+è¿æ¥)
  â†“
4. è°ƒç”¨åç«¯APIä¿å­˜
  â†“
5. ä¿å­˜æˆåŠŸ â†’ isDirty=false, æ›´æ–°lastSaveTime
  â†“
6. æç¤º"ä¿å­˜æˆåŠŸ"
```

#### 8.3.2 å›¾æ•°æ®åºåˆ—åŒ–

```typescript
serializeGraph() {
  const nodes = this.editor.getNodes().map(node => ({
    id: node.id,
    type: node.label,
    position: this.area.nodeViews.get(node.id).position,
    data: node.data // åŒ…å«æ‰€æœ‰é…ç½®
  }));

  const connections = this.editor.getConnections().map(conn => ({
    id: conn.id,
    source: conn.source,
    target: conn.target,
    sourceOutput: conn.sourceOutput,
    targetInput: conn.targetInput,
    data: conn.data // å­—æ®µæ˜ å°„ç­‰
  }));

  return {
    version: '1.0',
    nodes,
    connections,
    metadata: {
      lastModified: new Date().toISOString(),
      author: this.currentUser.name
    }
  };
}
```

### 8.4 ä¿å­˜å¹¶æ‰§è¡Œ

#### 8.4.1 æ‰§è¡Œæµç¨‹

```
ç‚¹å‡» [â–¶ï¸ ä¿å­˜å¹¶æ‰§è¡Œ] æŒ‰é’®
  â†“
1. å…ˆæ‰§è¡Œä¿å­˜æµç¨‹
  â†“
2. å¦‚æœä¿å­˜å¤±è´¥ â†’ åœæ­¢
  â†“
3. äºŒæ¬¡ç¡®è®¤: "å³å°†æ‰§è¡Œä»»åŠ¡,æ˜¯å¦ç»§ç»­?"
  â†“
4. ç”¨æˆ·ç¡®è®¤ â†’ è°ƒç”¨åç«¯æ‰§è¡ŒAPI
  â†“
5. è·å–executionId
  â†“
6. æ‰“å¼€åº•éƒ¨æ‰§è¡ŒæŠ½å±‰
  â†“
7. å¼€å§‹è½®è¯¢æ‰§è¡ŒçŠ¶æ€(æ¯2ç§’)
```

#### 8.4.2 äºŒæ¬¡ç¡®è®¤å¯¹è¯æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¡®è®¤æ‰§è¡Œ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å³å°†æ‰§è¡Œæ•°æ®åŒæ­¥ä»»åŠ¡:                   â”‚
â”‚ "mysql_to_es_sync"                      â”‚
â”‚                                         â”‚
â”‚ åŒæ­¥èŒƒå›´:                               â”‚
â”‚ â€¢ 2ä¸ªæ•°æ®æºè¡¨                           â”‚
â”‚ â€¢ é¢„è®¡æ•°æ®é‡: 150ä¸‡è¡Œ                   â”‚
â”‚                                         â”‚
â”‚ æ˜¯å¦ç»§ç»­?                               â”‚
â”‚                                         â”‚
â”‚ [å–æ¶ˆ]              [ç«‹å³æ‰§è¡Œ]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.5 åº•éƒ¨æ‰§è¡ŒæŠ½å±‰

#### 8.5.1 æŠ˜å çŠ¶æ€(é«˜åº¦100px)

å›ºå®šåœ¨é¡µé¢åº•éƒ¨:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç”»å¸ƒåŒºåŸŸ                               â”‚
â”‚   [èŠ‚ç‚¹...]                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–² æ‰§è¡Œè¿›åº¦                              [å±•å¼€] [åœæ­¢] [Ã—]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»»åŠ¡: mysql_to_es_sync  |  çŠ¶æ€: ğŸŸ¢ è¿è¡Œä¸­  |  è¿›åº¦: 45%â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  45%                       â”‚
â”‚ å½“å‰: è¯»å– user_table (456,789 / 1,000,000 è¡Œ)         â”‚
â”‚ é€Ÿåº¦: 15,234 è¡Œ/ç§’  |  é¢„è®¡å‰©ä½™: 2åˆ†35ç§’                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 8.5.2 å±•å¼€çŠ¶æ€(é«˜åº¦400px)

ç‚¹å‡» [å±•å¼€] â†’ ç”»å¸ƒé«˜åº¦ç¼©å°,æŠ½å±‰å±•å¼€:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”»å¸ƒåŒºåŸŸ (é«˜åº¦ç¼©å°)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ æ‰§è¡Œè¿›åº¦                              [æ”¶èµ·] [åœæ­¢] [Ã—]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tab: [ğŸ“Š è¿›åº¦] [ğŸ“ æ—¥å¿—] [ğŸ“ˆ ç»Ÿè®¡]                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã€ğŸ“Š è¿›åº¦ã€‘                                              â”‚
â”‚ æ•´ä½“è¿›åº¦: â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â–‘â–‘â–‘â–‘â–‘  45%                    â”‚
â”‚                                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ é˜¶æ®µ            çŠ¶æ€      è¿›åº¦      è€—æ—¶            â”‚  â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚ â”‚ âœ“ æ ¡éªŒé…ç½®      å®Œæˆ      100%     0.5s            â”‚  â”‚
â”‚ â”‚ âœ“ å»ºç«‹è¿æ¥      å®Œæˆ      100%     1.2s            â”‚  â”‚
â”‚ â”‚ â–¶ è¯»å–æ•°æ®      è¿è¡Œä¸­    45%      2m15s           â”‚  â”‚
â”‚ â”‚   â”œâ”€ user_table    45%    456,789/1,000,000è¡Œ      â”‚  â”‚
â”‚ â”‚   â””â”€ order_table   0%     ç­‰å¾…ä¸­                   â”‚  â”‚
â”‚ â”‚ â¸ å­—æ®µè½¬æ¢      ç­‰å¾…ä¸­    0%       -               â”‚  â”‚
â”‚ â”‚ â¸ å†™å…¥ç›®æ ‡      ç­‰å¾…ä¸­    0%       -               â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚ å¼€å§‹: 14:30:25  |  é¢„è®¡å®Œæˆ: 14:35:30                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 8.5.3 æ—¥å¿—Tab

å®æ—¶æ»šåŠ¨æ—¥å¿—,æ”¯æŒ:
- è‡ªåŠ¨æ»šåŠ¨åˆ°æœ€æ–°
- æ—¥å¿—çº§åˆ«ç­›é€‰(ALL/INFO/WARN/ERROR)
- æœç´¢å…³é”®è¯
- å¯¼å‡ºæ—¥å¿—æ–‡ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã€ğŸ“ æ—¥å¿—ã€‘                    [ğŸ”½ è‡ªåŠ¨æ»šåŠ¨] [ğŸ—‘ï¸ æ¸…ç©º]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ [14:30:25] INFO  å¼€å§‹æ‰§è¡Œä»»åŠ¡: mysql_to_es_sync    â”‚  â”‚
â”‚ â”‚ [14:30:26] INFO  âœ“ é…ç½®æ ¡éªŒé€šè¿‡                   â”‚  â”‚
â”‚ â”‚ [14:30:27] INFO  âœ“ æ•°æ®æºè¿æ¥æˆåŠŸ                 â”‚  â”‚
â”‚ â”‚ [14:32:16] WARN  æ£€æµ‹åˆ°æ…¢æŸ¥è¯¢,è€—æ—¶ 3.5s            â”‚  â”‚
â”‚ â”‚ ... (æ»šåŠ¨æ—¥å¿—)                                     â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ æ—¥å¿—çº§åˆ«: [ALL â–¼]  æœç´¢: [_______] ğŸ”  [å¯¼å‡ºæ—¥å¿—]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 8.5.4 ç»Ÿè®¡Tab

å±•ç¤º:
- æ•°æ®é‡ç»Ÿè®¡(å·²è¯»/å·²å†™/å¤±è´¥/è·³è¿‡)
- æ€§èƒ½æŒ‡æ ‡(é€Ÿåº¦ã€å»¶è¿Ÿ)
- å®æ—¶é€Ÿåº¦æ›²çº¿å›¾

#### 8.5.5 çŠ¶æ€è½®è¯¢

```typescript
startPolling() {
  this.pollingTimer = setInterval(async () => {
    const res = await this.http.post('/tjs/coredefine/corenodemanage.ajax', {
      action: 'get_execution_status',
      executionId: this.executionId
    }).toPromise();

    this.status = res.bizresult.status;
    this.progress = res.bizresult.progress;

    // ä»»åŠ¡å®Œæˆ,åœæ­¢è½®è¯¢
    if (['success', 'failed', 'stopped'].includes(this.status)) {
      this.stopPolling();
      this.onExecutionComplete();
    }
  }, 2000); // æ¯2ç§’è½®è¯¢
}
```

#### 8.5.6 åœæ­¢æ‰§è¡Œ

ç‚¹å‡» [åœæ­¢] æŒ‰é’® â†’ äºŒæ¬¡ç¡®è®¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ ç¡®è®¤åœæ­¢                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç¡®å®šè¦åœæ­¢å½“å‰ä»»åŠ¡å—?                   â”‚
â”‚                                         â”‚
â”‚ å·²å¤„ç†æ•°æ®:                             â”‚
â”‚ â€¢ å·²è¯»å–: 456,789 è¡Œ                    â”‚
â”‚ â€¢ å·²å†™å…¥: 423,156 è¡Œ                    â”‚
â”‚                                         â”‚
â”‚ âš ï¸ åœæ­¢åå·²å†™å…¥çš„æ•°æ®ä¸ä¼šå›æ»š          â”‚
â”‚                                         â”‚
â”‚ [å–æ¶ˆ]              [ç¡®è®¤åœæ­¢]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. æ•°æ®æ¨¡å‹

### 9.1 èŠ‚ç‚¹æ•°æ®ç»“æ„

#### MySQL ReaderèŠ‚ç‚¹

```typescript
interface MySQLReaderNode {
  id: string;
  type: 'mysql-reader';
  label: 'MySQL Reader';

  data: {
    // è¿æ¥é…ç½®
    connection: {
      name: string;           // è¿æ¥åç§°
      host: string;
      port: number;
      user: string;
      password: string;
      database: string;
    };

    // é€‰æ‹©çš„è¡¨(ç”¨äºç”Ÿæˆè¡¨èŠ‚ç‚¹)
    selectedTables: string[];

    // å…ƒæ•°æ®
    totalTableCount: number;  // æ•°æ®åº“æ€»è¡¨æ•°
  };
}
```

#### è¡¨èŠ‚ç‚¹(Table Node)

```typescript
interface TableNode {
  id: string;
  type: 'table';
  label: string; // è¡¨å

  data: {
    // åŸºæœ¬ä¿¡æ¯
    tableName: string;
    fieldCount: number;
    rowCount: number;

    // å­—æ®µåˆ—è¡¨
    fields: Array<{
      name: string;
      type: string;        // INT, VARCHAR, etc.
      isPrimary?: boolean;
      isNullable?: boolean;
      comment?: string;
    }>;

    // å­—æ®µé€‰æ‹©
    selectedFields: string[];  // é€‰æ‹©çš„å­—æ®µå

    // Transformé…ç½®
    transforms: Array<{
      type: 'desensitize' | 'format' | 'calculate' | 'mapping' | 'merge';
      sourceField: string | string[];
      outputField: string;
      config: {
        // æ ¹æ®typeä¸åŒè€Œä¸åŒ
        // desensitize: { method: 'md5' | 'sha256' | 'mask', ... }
        // format: { sourceFormat: string, targetFormat: string }
        // calculate: { expression: string, dataType: string }
        // mapping: { mappings: Record<string, string> }
        // merge: { method: 'concat' | 'json', separator?: string }
      };
    }>;

    // ç­›é€‰æ¡ä»¶
    filterCondition?: string;  // WHEREå­å¥

    // åˆ†ç‰‡é…ç½®(å¯é€‰)
    splitKey?: string;
    splitCount?: number;
  };
}
```

#### ES WriterèŠ‚ç‚¹

```typescript
interface ESWriterNode {
  id: string;
  type: 'es-writer';
  label: 'ES Writer';

  data: {
    // è¿æ¥é…ç½®
    connection: {
      name: string;
      hosts: string[];  // ['host1:9200', 'host2:9200']
      username?: string;
      password?: string;
    };

    // ç›®æ ‡ç´¢å¼•
    index: string;

    // å†™å…¥é…ç½®
    batchSize?: number;
    flushInterval?: number;
  };
}
```

### 9.2 è¿æ¥æ•°æ®ç»“æ„

```typescript
interface Connection {
  id: string;
  source: string;      // æºèŠ‚ç‚¹ID
  target: string;      // ç›®æ ‡èŠ‚ç‚¹ID
  sourceOutput: string; // æºè¾“å‡ºç«¯å£ID
  targetInput: string;  // ç›®æ ‡è¾“å…¥ç«¯å£ID

  data: {
    // å­—æ®µæ˜ å°„(å¤§å¤šæ•°æƒ…å†µé»˜è®¤åŒå)
    fieldMappings?: Array<{
      source: string;
      target: string;
    }>;

    // æ˜¯å¦è‡ªåŠ¨æ˜ å°„
    autoMapping: boolean; // é»˜è®¤true
  };
}
```

### 9.3 æ’ä»¶å…ƒæ•°æ®

```typescript
interface PluginMetadata {
  id: string;              // æ’ä»¶ID
  name: string;            // æ˜¾ç¤ºåç§°
  type: 'reader' | 'writer' | 'transform';
  version: string;
  description: string;
  author: string;

  // å®‰è£…ä¿¡æ¯
  installed: boolean;
  enabled: boolean;
  downloadCount: number;
  rating: number;          // 1-5æ˜Ÿ

  // ä¾èµ–
  dependencies: {
    coreVersion: string;   // TISç‰ˆæœ¬è¦æ±‚
    plugins: string[];     // ä¾èµ–çš„å…¶ä»–æ’ä»¶
  };

  // ä½¿ç”¨ç»Ÿè®¡
  lastUsedTime?: number;
  usageCount: number;

  // åˆ†ç±»
  tags: string[];
  category: string;

  // ä¸‹è½½
  size: number;
  downloadUrl: string;
  icon?: string;
}
```

### 9.4 æ‰§è¡ŒçŠ¶æ€

```typescript
interface ExecutionStatus {
  executionId: string;
  taskName: string;
  status: 'running' | 'success' | 'failed' | 'stopped';
  progress: number;       // 0-100

  // é˜¶æ®µä¿¡æ¯
  stages: Array<{
    name: string;
    status: 'waiting' | 'running' | 'completed' | 'failed';
    progress: number;
    startTime?: number;
    endTime?: number;
    duration?: number;
  }>;

  // ç»Ÿè®¡ä¿¡æ¯
  statistics: {
    totalRows: number;
    readRows: number;
    writeRows: number;
    failedRows: number;
    skippedRows: number;
    avgReadSpeed: number;   // è¡Œ/ç§’
    avgWriteSpeed: number;
    avgLatency: number;     // ms
  };

  // æ—¶é—´ä¿¡æ¯
  startTime: number;
  endTime?: number;
  estimatedEndTime?: number;

  // é”™è¯¯ä¿¡æ¯
  error?: {
    message: string;
    stack?: string;
  };
}
```

---

## 10. APIæ¥å£è®¾è®¡

æ‰€æœ‰æ¥å£ç»Ÿä¸€ä½¿ç”¨:
```
POST /tjs/coredefine/corenodemanage.ajax
```

é€šè¿‡ `action` å‚æ•°åŒºåˆ†ä¸åŒæ“ä½œã€‚

### 10.1 æ’ä»¶ç®¡ç†API

#### è·å–æ’ä»¶åˆ—è¡¨

```typescript
Request:
{
  action: 'getPluginList',
  type?: 'reader' | 'writer' | 'transform' // å¯é€‰ç­›é€‰
}

Response:
{
  success: true,
  bizresult: {
    readers: PluginMetadata[],
    writers: PluginMetadata[],
    transforms: PluginMetadata[]
  }
}
```

#### å®‰è£…æ’ä»¶

```typescript
Request:
{
  action: 'installPlugin',
  pluginId: string,
  version?: string // å¯é€‰,é»˜è®¤æœ€æ–°ç‰ˆ
}

Response:
{
  success: true,
  bizresult: {
    pluginId: string,
    installedVersion: string
  }
}
```

#### å¸è½½æ’ä»¶

```typescript
Request:
{
  action: 'uninstallPlugin',
  pluginId: string
}

Response:
{
  success: true
}
```

### 10.2 æ•°æ®æºè¿æ¥API

#### è·å–è¿æ¥åˆ—è¡¨

```typescript
Request:
{
  action: 'getConnections',
  type: 'mysql' | 'postgresql' | 'es' | ...
}

Response:
{
  success: true,
  bizresult: {
    connections: Array<{
      name: string,
      type: string,
      host: string,
      port: number,
      database?: string,
      // ...
    }>
  }
}
```

#### æµ‹è¯•è¿æ¥

```typescript
Request:
{
  action: 'testConnection',
  type: 'mysql',
  config: {
    host: string,
    port: number,
    user: string,
    password: string,
    database: string
  }
}

Response:
{
  success: true,
  bizresult: {
    connected: boolean,
    message: string,
    version?: string,  // æ•°æ®åº“ç‰ˆæœ¬
    charset?: string
  }
}
```

#### è·å–è¡¨åˆ—è¡¨

```typescript
Request:
{
  action: 'getTables',
  connection: string,  // è¿æ¥åç§°
  database?: string,
  searchKeyword?: string
}

Response:
{
  success: true,
  bizresult: {
    tables: Array<{
      name: string,
      rowCount: number,
      sizeInBytes: number,
      comment?: string,
      createTime?: string
    }>
  }
}
```

#### è·å–è¡¨å­—æ®µ

```typescript
Request:
{
  action: 'getTableFields',
  connection: string,
  table: string
}

Response:
{
  success: true,
  bizresult: {
    fields: Array<{
      name: string,
      type: string,
      isPrimary: boolean,
      isNullable: boolean,
      defaultValue?: string,
      comment?: string
    }>
  }
}
```

### 10.3 å›¾æ•°æ®ç®¡ç†API

#### ä¿å­˜å›¾é…ç½®

```typescript
Request:
{
  action: 'save_datax_graph',
  dataxName: string,
  graph: {
    version: string,
    nodes: Array<{
      id: string,
      type: string,
      position: { x: number, y: number },
      data: any
    }>,
    connections: Array<{
      id: string,
      source: string,
      target: string,
      sourceOutput: string,
      targetInput: string,
      data: any
    }>,
    metadata: {
      lastModified: string,
      author: string
    }
  }
}

Response:
{
  success: true,
  bizresult: {
    dataxName: string,
    savedAt: string
  }
}
```

#### åŠ è½½å›¾é…ç½®

```typescript
Request:
{
  action: 'load_datax_graph',
  dataxName: string
}

Response:
{
  success: true,
  bizresult: {
    graph: {
      version: string,
      nodes: [...],
      connections: [...],
      metadata: {...}
    }
  }
}
```

### 10.4 æ‰§è¡Œç®¡ç†API

#### æ‰§è¡Œä»»åŠ¡

```typescript
Request:
{
  action: 'execute_datax',
  dataxName: string
}

Response:
{
  success: true,
  bizresult: {
    executionId: string,
    startTime: number
  }
}
```

#### è·å–æ‰§è¡ŒçŠ¶æ€

```typescript
Request:
{
  action: 'get_execution_status',
  executionId: string
}

Response:
{
  success: true,
  bizresult: ExecutionStatus // è§æ•°æ®æ¨¡å‹ç« èŠ‚
}
```

#### åœæ­¢æ‰§è¡Œ

```typescript
Request:
{
  action: 'stop_execution',
  executionId: string
}

Response:
{
  success: true,
  bizresult: {
    executionId: string,
    stoppedAt: number
  }
}
```

#### è·å–æ‰§è¡Œæ—¥å¿—

```typescript
Request:
{
  action: 'get_execution_logs',
  executionId: string,
  level?: 'ALL' | 'INFO' | 'WARN' | 'ERROR',
  offset?: number,
  limit?: number
}

Response:
{
  success: true,
  bizresult: {
    logs: Array<{
      timestamp: number,
      level: string,
      message: string
    }>,
    total: number,
    hasMore: boolean
  }
}
```

### 10.5 Transformé¢„è§ˆAPI

#### é¢„è§ˆTransformç»“æœ

```typescript
Request:
{
  action: 'preview_transform',
  connection: string,
  table: string,
  transforms: Array<{
    type: string,
    sourceField: string,
    outputField: string,
    config: any
  }>,
  limit?: number  // é»˜è®¤100
}

Response:
{
  success: true,
  bizresult: {
    sourceData: Array<Record<string, any>>,
    transformedData: Array<Record<string, any>>
  }
}
```

---

## 11. å¼€å‘è®¡åˆ’

### 11.1 æ€»ä½“æ—¶é—´è§„åˆ’

**ç›®æ ‡:** 1-2å‘¨å®ŒæˆMVP

### 11.2 ç¬¬ä¸€å‘¨:æ ¸å¿ƒåŠŸèƒ½

#### Day 1-2: ç¯å¢ƒæ­å»ºå’ŒRete.jsé›†æˆ

**ä»»åŠ¡:**
- [ ] å®‰è£…Rete.jsç›¸å…³ä¾èµ–
```bash
npm install rete@^2.0.0 \
  rete-area-plugin@^2.0.0 \
  rete-connection-plugin@^2.0.0 \
  rete-angular-plugin@^2.0.0 \
  rete-structures@^2.0.0
```
- [ ] åˆ›å»ºå¯è§†åŒ–ç¼–è¾‘å™¨è·¯ç”±å’Œç»„ä»¶
- [ ] å­¦ä¹ Rete.jsåŸºç¡€API(Node/Socket/Connection)
- [ ] å®ç°åŸºç¡€ç”»å¸ƒ(å¯æ‹–æ‹½ã€ç¼©æ”¾ã€å¹³ç§»)
- [ ] å®ç°ç®€å•Demo(2ä¸ªèŠ‚ç‚¹+1ä¸ªè¿æ¥)

**äº¤ä»˜ç‰©:**
- å¯è¿è¡Œçš„ç©ºç™½ç”»å¸ƒ
- èƒ½æ‹–æ‹½2ä¸ªæµ‹è¯•èŠ‚ç‚¹å¹¶è¿çº¿

#### Day 3-4: ä¸‰ç§èŠ‚ç‚¹ç±»å‹å®ç°

**ä»»åŠ¡:**
- [ ] å®šä¹‰èŠ‚ç‚¹æ•°æ®æ¨¡å‹(Reader/Table/Writer)
- [ ] å®ç°MySQL ReaderèŠ‚ç‚¹
  - [ ] èŠ‚ç‚¹å¤–è§‚è®¾è®¡
  - [ ] é…ç½®Drawer(è¿æ¥é…ç½®)
  - [ ] é€‰æ‹©è¡¨é€»è¾‘
  - [ ] è‡ªåŠ¨ç”Ÿæˆ/æ‰‹åŠ¨æ‹–æ‹½è¡¨èŠ‚ç‚¹
- [ ] å®ç°TableèŠ‚ç‚¹
  - [ ] èŠ‚ç‚¹å¤–è§‚è®¾è®¡
  - [ ] å­—æ®µé€‰æ‹©é…ç½®
  - [ ] ä¸Readerè‡ªåŠ¨è¿çº¿
- [ ] å®ç°ES WriterèŠ‚ç‚¹
  - [ ] èŠ‚ç‚¹å¤–è§‚è®¾è®¡
  - [ ] è¿æ¥é…ç½®
- [ ] èŠ‚ç‚¹æ‹–æ‹½å’Œè¿çº¿åŠŸèƒ½

**äº¤ä»˜ç‰©:**
- 3ç§èŠ‚ç‚¹ç±»å‹å¯æ­£å¸¸æ‹–æ‹½
- é…ç½®Drawerå¯æ‰“å¼€
- èŠ‚ç‚¹é—´å¯è¿çº¿

#### Day 5: èŠ‚ç‚¹é¢æ¿å’Œæ’ä»¶ç³»ç»ŸUI

**ä»»åŠ¡:**
- [ ] å®ç°å·¦ä¾§èŠ‚ç‚¹é¢æ¿ç»„ä»¶
  - [ ] å¯æŠ˜å åˆ†ç»„
  - [ ] æœç´¢åŠŸèƒ½
  - [ ] å·²å®‰è£…/æœªå®‰è£…æ˜¾ç¤º
- [ ] å®ç°æ’ä»¶å¸‚åœºDrawer(800px)
  - [ ] æ’ä»¶åˆ—è¡¨å±•ç¤º
  - [ ] Tabåˆ†ç±»
  - [ ] æœç´¢ç­›é€‰
  - [ ] å®‰è£…æŒ‰é’®(Mock)
- [ ] å®ç°åˆå§‹åŒ–å¼•å¯¼
  - [ ] ç©ºçŠ¶æ€æç¤º
  - [ ] å¿«é€Ÿå®‰è£…æ¨èæ’ä»¶

**äº¤ä»˜ç‰©:**
- å®Œæ•´çš„èŠ‚ç‚¹é¢æ¿UI
- æ’ä»¶å¸‚åœºUI(åç«¯æ¥å£Mock)

#### Day 6: TransformåŠŸèƒ½

**ä»»åŠ¡:**
- [ ] å®ç°Transformé…ç½®Drawer(800px)
  - [ ] 5ç§Transformç±»å‹UI
  - [ ] é…ç½®è¡¨å•
  - [ ] å®æ—¶é¢„è§ˆ
- [ ] å®ç°Transformæ•°æ®æ¨¡å‹
- [ ] èŠ‚ç‚¹æ˜¾ç¤ºTransformæ‘˜è¦
- [ ] Mock Transformé¢„è§ˆæ•°æ®

**äº¤ä»˜ç‰©:**
- Transformé…ç½®ç•Œé¢å®Œæ•´
- å¯æ·»åŠ /ç¼–è¾‘/åˆ é™¤Transformè§„åˆ™

#### Day 7: åç«¯é›†æˆ

**ä»»åŠ¡:**
- [ ] é›†æˆè·å–è¿æ¥åˆ—è¡¨API
- [ ] é›†æˆè·å–è¡¨åˆ—è¡¨API
- [ ] é›†æˆè·å–å­—æ®µåˆ—è¡¨API
- [ ] é›†æˆæµ‹è¯•è¿æ¥API
- [ ] å›¾æ•°æ®åºåˆ—åŒ–å’Œååºåˆ—åŒ–
- [ ] é›†æˆä¿å­˜å›¾é…ç½®API
- [ ] é›†æˆåŠ è½½å›¾é…ç½®API

**äº¤ä»˜ç‰©:**
- æ‰€æœ‰é…ç½®æ•°æ®æ¥è‡ªçœŸå®åç«¯
- å¯ä¿å­˜å’ŒåŠ è½½DataXä»»åŠ¡

### 11.3 ç¬¬äºŒå‘¨:é«˜çº§åŠŸèƒ½

#### Day 8-9: æ ¸å¿ƒåŠŸèƒ½

**ä»»åŠ¡:**
- [ ] å®ç°æœªä¿å­˜æé†’
  - [ ] isDirtyçŠ¶æ€ç®¡ç†
  - [ ] beforeunloadç›‘å¬
  - [ ] è·¯ç”±å®ˆå«
- [ ] å®ç°é€»è¾‘æ ¡éªŒ
  - [ ] 10+æ ¡éªŒè§„åˆ™
  - [ ] æ ¡éªŒç»“æœDrawer
  - [ ] é”™è¯¯å®šä½å’Œé«˜äº®
- [ ] å®ç°æ’¤é”€/é‡åšåŠŸèƒ½(å¯é€‰)

**äº¤ä»˜ç‰©:**
- å®Œæ•´çš„ä¿å­˜å’Œæ ¡éªŒåŠŸèƒ½

#### Day 10: æ‰§è¡ŒåŠŸèƒ½

**ä»»åŠ¡:**
- [ ] å®ç°ä¿å­˜å¹¶æ‰§è¡ŒæŒ‰é’®
- [ ] å®ç°åº•éƒ¨æ‰§è¡ŒæŠ½å±‰
  - [ ] æŠ˜å çŠ¶æ€(100px)
  - [ ] å±•å¼€çŠ¶æ€(400px)
  - [ ] è¿›åº¦Tab
  - [ ] æ—¥å¿—Tab
  - [ ] ç»Ÿè®¡Tab
- [ ] çŠ¶æ€è½®è¯¢é€»è¾‘
- [ ] åœæ­¢æ‰§è¡ŒåŠŸèƒ½

**äº¤ä»˜ç‰©:**
- å®Œæ•´çš„æ‰§è¡Œå’Œç›‘æ§åŠŸèƒ½

#### Day 11-12: ä¼˜åŒ–å’Œæµ‹è¯•

**ä»»åŠ¡:**
- [ ] UIæ ·å¼ç»Ÿä¸€å’Œç¾åŒ–
- [ ] å“åº”å¼é€‚é…
- [ ] æ€§èƒ½ä¼˜åŒ–
  - [ ] å¤§å›¾æ¸²æŸ“ä¼˜åŒ–
  - [ ] è™šæ‹Ÿæ»šåŠ¨(å¦‚æœèŠ‚ç‚¹å¾ˆå¤š)
- [ ] æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•
- [ ] é”™è¯¯å¤„ç†å’Œè¾¹ç•Œcase
- [ ] ç”¨æˆ·æ“ä½œå¼•å¯¼å’Œå¸®åŠ©æ–‡æ¡£

**äº¤ä»˜ç‰©:**
- ç”Ÿäº§å¯ç”¨çš„å¯è§†åŒ–ç¼–è¾‘å™¨

#### Day 13-14: æ’ä»¶ç³»ç»Ÿåç«¯é›†æˆ(å¯é€‰)

å¦‚æœæ—¶é—´å……è¶³:
- [ ] æ’ä»¶å¸‚åœºåç«¯é›†æˆ
- [ ] æ’ä»¶å®‰è£…/å¸è½½/æ›´æ–°åŠŸèƒ½
- [ ] æ’ä»¶ä¾èµ–æ£€æŸ¥

### 11.4 MVPåŠŸèƒ½æ¸…å•

**å¿…é¡»å®Œæˆ(P0):**
- âœ… åŸºç¡€ç”»å¸ƒ(æ‹–æ‹½ã€ç¼©æ”¾ã€è¿çº¿)
- âœ… 3ç§èŠ‚ç‚¹ç±»å‹(Reader/Table/Writer)
- âœ… èŠ‚ç‚¹é…ç½®Drawer
- âœ… TransformåŠŸèƒ½(5ç§ç±»å‹)
- âœ… ä¿å­˜/åŠ è½½å›¾é…ç½®
- âœ… é€»è¾‘æ ¡éªŒ
- âœ… æœªä¿å­˜æé†’
- âœ… ä¿å­˜å¹¶æ‰§è¡Œ
- âœ… æ‰§è¡Œç›‘æ§æŠ½å±‰

**å»ºè®®å®Œæˆ(P1):**
- âœ… èŠ‚ç‚¹é¢æ¿UI
- âœ… æ’ä»¶å¸‚åœºUI(Mock)
- âœ… åˆå§‹åŒ–å¼•å¯¼
- â¸ æ’¤é”€/é‡åš

**å¯å»¶å(P2):**
- â¸ æ’ä»¶çœŸå®å®‰è£…åŠŸèƒ½
- â¸ æ•°æ®è¡€ç¼˜å›¾è°±
- â¸ æ‰¹é‡æ“ä½œ
- â¸ èŠ‚ç‚¹æ¨¡æ¿åº“

### 11.5 æŠ€æœ¯é£é™©å’Œè§£å†³æ–¹æ¡ˆ

| é£é™© | å½±å“ | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| Rete.jsä¸Angular 17å…¼å®¹æ€§ | é«˜ | å…ˆåšPOCéªŒè¯,ä½¿ç”¨å®˜æ–¹rete-angular-plugin |
| Bundleä½“ç§¯å¢å¤§(~300KB) | ä¸­ | æŒ‰éœ€åŠ è½½,Route lazy loading |
| å­¦ä¹ æ›²çº¿é™¡å³­ | ä¸­ | Day 1-2ä¸“é—¨å­¦ä¹ ,å‚è€ƒå®˜æ–¹æ–‡æ¡£å’Œç¤ºä¾‹ |
| å¤§å›¾æ€§èƒ½é—®é¢˜ | ä½ | è™šæ‹Ÿæ¸²æŸ“,å»¶è¿ŸåŠ è½½,èŠ‚ç‚¹æŠ˜å  |

---

## 12. é™„å½•

### 12.1 å‚è€ƒèµ„æº

**Rete.js:**
- å®˜ç½‘: https://retejs.org/
- GitHub: https://github.com/retejs/rete
- æ–‡æ¡£: https://retejs.org/docs/

**ng-zorro-antd:**
- å®˜ç½‘: https://ng.ant.design/
- Drawerç»„ä»¶: https://ng.ant.design/components/drawer/zh

**è®¾è®¡å‚è€ƒ:**
- Apache Airflow DAGç¼–è¾‘å™¨
- Node-REDç¼–è¾‘å™¨
- Rete.jså®˜æ–¹ç¤ºä¾‹

### 12.2 æœ¯è¯­è¡¨

| æœ¯è¯­ | è¯´æ˜ |
|------|------|
| Reader | æ•°æ®æºèŠ‚ç‚¹,ä»MySQL/Oracle/Kafkaç­‰è¯»å–æ•°æ® |
| Writer | æ•°æ®ç›®æ ‡èŠ‚ç‚¹,å†™å…¥ES/Hive/S3ç­‰ |
| Transform | æ•°æ®è½¬æ¢èŠ‚ç‚¹/åŠŸèƒ½,å¯¹å­—æ®µè¿›è¡Œè„±æ•/æ ¼å¼åŒ–/è®¡ç®—ç­‰ |
| Table Node | è¡¨èŠ‚ç‚¹,ä»£è¡¨ä¸€å¼ å…·ä½“çš„æ•°æ®è¡¨ |
| Drawer | æŠ½å±‰ç»„ä»¶,ä»å³ä¾§æ»‘å…¥çš„é…ç½®é¢æ¿ |
| isDirty | æœªä¿å­˜çŠ¶æ€æ ‡è®° |
| Socket | Rete.jsä¸­çš„è¿æ¥ç«¯å£ |
| Connection | èŠ‚ç‚¹é—´çš„è¿çº¿ |
| Plugin | TISæ’ä»¶,åŠ¨æ€å®‰è£…çš„Reader/Writer/Transform |

### 12.3 å¼€å‘è§„èŒƒ

#### å‘½åè§„èŒƒ

**ç»„ä»¶å‘½å:**
```
DataxVisualEditorComponent
NodePanelComponent
MySQLReaderNodeComponent
TableNodeComponent
ExecutionDrawerComponent
```

**æ–‡ä»¶å‘½å:**
```
datax-visual-editor.component.ts
node-panel.component.ts
mysql-reader-node.component.ts
```

**æ¥å£å‘½å:**
```
interface MySQLReaderNode { ... }
interface TableNode { ... }
interface PluginMetadata { ... }
```

#### ä»£ç ç»„ç»‡

```
src/datax/
â”œâ”€â”€ visual-editor/                    # å¯è§†åŒ–ç¼–è¾‘å™¨æ¨¡å—
â”‚   â”œâ”€â”€ datax-visual-editor.component.ts
â”‚   â”œâ”€â”€ datax-visual-editor.component.html
â”‚   â”œâ”€â”€ datax-visual-editor.component.less
â”‚   â”‚
â”‚   â”œâ”€â”€ components/                   # å­ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ node-panel/
â”‚   â”‚   â”œâ”€â”€ execution-drawer/
â”‚   â”‚   â””â”€â”€ validation-result/
â”‚   â”‚
â”‚   â”œâ”€â”€ nodes/                        # èŠ‚ç‚¹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ mysql-reader-node.ts
â”‚   â”‚   â”œâ”€â”€ table-node.ts
â”‚   â”‚   â”œâ”€â”€ es-writer-node.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ drawers/                      # Drawerç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ mysql-config-drawer/
â”‚   â”‚   â”œâ”€â”€ table-config-drawer/
â”‚   â”‚   â”œâ”€â”€ transform-config-drawer/
â”‚   â”‚   â””â”€â”€ plugin-market-drawer/
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                     # æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ rete-editor.service.ts    # Rete.jsç¼–è¾‘å™¨æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ graph-validator.service.ts # å›¾æ ¡éªŒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ plugin-manager.service.ts  # æ’ä»¶ç®¡ç†æœåŠ¡
â”‚   â”‚   â””â”€â”€ execution-monitor.service.ts # æ‰§è¡Œç›‘æ§æœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                       # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ node.model.ts
â”‚   â”‚   â”œâ”€â”€ connection.model.ts
â”‚   â”‚   â”œâ”€â”€ plugin.model.ts
â”‚   â”‚   â””â”€â”€ execution.model.ts
â”‚   â”‚
â”‚   â””â”€â”€ utils/                        # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ graph-serializer.ts
â”‚       â””â”€â”€ node-layout.ts
```

---

## 13. æ€»ç»“

æœ¬æ–‡æ¡£å®šä¹‰äº†TIS DataXå¯è§†åŒ–ç¼–è¾‘å™¨çš„å®Œæ•´äº§å“éœ€æ±‚å’ŒæŠ€æœ¯æ–¹æ¡ˆ,åŒ…æ‹¬:

**æ ¸å¿ƒäº®ç‚¹:**
1. âœ… ä¸‰çº§èŠ‚ç‚¹æ¶æ„ - æ”¯æŒå¤§è§„æ¨¡è¡¨åŒæ­¥
2. âœ… æ’ä»¶åŒ–è®¾è®¡ - åŠ¨æ€å®‰è£…Reader/Writer/Transform
3. âœ… Drawerç»Ÿä¸€è§„èŒƒ - å³ä¾§600/800pxå›ºå®šå®½åº¦
4. âœ… ç®€åŒ–é…ç½®æµç¨‹ - 2æ­¥é…ç½®æ•°æ®æº,é»˜è®¤åŒåæ˜ å°„
5. âœ… å¼ºå¤§Transform - 5ç§å¸¸ç”¨è½¬æ¢ç±»å‹
6. âœ… å®Œå–„çš„ä¿å­˜/æ ¡éªŒ/æ‰§è¡Œ/ç›‘æ§åŠŸèƒ½

**æŠ€æœ¯é€‰å‹:**
- Rete.js - ä¸“ä¸šèŠ‚ç‚¹ç¼–è¾‘å™¨
- Angular 17 + ng-zorro-antd - ç»Ÿä¸€æŠ€æœ¯æ ˆ
- Drawerä¸ºä¸»çš„äº¤äº’æ¨¡å¼

**å¼€å‘å‘¨æœŸ:** 1-2å‘¨MVP

**ä¸‹ä¸€æ­¥:**
1. å›¢é˜ŸReviewæœ¬æ–‡æ¡£
2. ç¡®è®¤æŠ€æœ¯æ–¹æ¡ˆå’Œä¼˜å…ˆçº§
3. å¯åŠ¨å¼€å‘(ä»Day 1å¼€å§‹)

---

**æ–‡æ¡£ç‰ˆæœ¬å†å²:**

| ç‰ˆæœ¬ | æ—¥æœŸ | ä½œè€… | å˜æ›´è¯´æ˜ |
|------|------|------|---------|
| v1.0 | 2025-11-26 | ç™¾å² & Claude | åˆå§‹ç‰ˆæœ¬ |

**æ–‡æ¡£çŠ¶æ€:** âœ… å·²å®Œæˆ,å¾…Review
